# 介绍

一个基于[robfig/cron](https://github.com/robfig/cron)的cron快捷使用工具。支持**秒级别**的定时任务。

## 字段定义

字段含义和用法与[Crontab](https://crontab.guru/)相同

- 如果有5个字段，表示最小粒度是分钟
- 如果有6个字段，表示最小粒度是秒

```
 * * * * * *  command to execute
 ┬ ┬ ┬ ┬ ┬ ┬
 │ │ │ │ │ │
 │ │ │ │ │ │
 │ │ │ │ │ └───── day of week (0 - 7) (0 to 6 are Sunday to Saturday, or use names; 7 is Sunday, the same as 0)
 │ │ │ │ └────────── month (1 - 12)
 │ │ │ └─────────────── day of month (1 - 31)
 │ │ └──────────────────── hour (0 - 23)
 | └───────────────────────── min (0 - 59)
 └───────────────────────────── second (0 - 59)
```
| 字段     | 有效值的范围                    |
|--------|---------------------------|
| 秒（非必填） | 0-59                      |
| 分钟     | 0-59                      |
| 小时     | 0-23                      |
| 日期     | 1-31                      |
| 月      | 1-12（或 1 月到 12 月）         |
| 周几     | 0-6（或 SUN 至 SAT；或 7 - 周日） |

- 字段可以包含星号 (*)，星号代表「每秒」、「每分」等。
- 范围是使用连字符 (-) 分隔的两个数字，指定的范围包含边界值。
- 使用 `/NUMBER` 指定的范围会指定在该范围内跳过的数字值。例如，可以在「小时」字段中使用 `0-23/2` 或 `*/2` 来指定每两小时执行一次。
- 列表是用逗号分隔 (,) 的一组数字（或范围）。例如，「日期」字段中的 `1,2,5,6` 指定每月第 1 日、第 2 日、第 5 日和第 6 日执行。

| 示例时间表             | Cron作业格式     |
|-------------------|--------------|
| 每分钟               | * * * * *    |
| 每秒                | * * * * * *  |
| 每个星期六的 23:45      | 45 23 * * 6  |
| 每周一 09:00         | 0 9 * * 1    |
| 每周日凌晨 04:05       | 5 4 * * SUN  |
| 每个工作日（周一至周五）22:00 | 0 22 * * 1-5 |

## 使用方法

```
cron -- [schedule1] [command1] [args1...] -- [schedule2] [command2] [args2...]
```

- [schedule]：定时任务，为一个字符串
- [command] [args...]： 需要执行的指令和参数
- 支持多条定时任务，`--` 后的内容，表示一条定时任务

### 运行一个定时任务

```shell
$ cron -- "*/1 * * * * *" bash -c "echo hello"
```

### 运行多条指令

每1秒打印hello
每2秒打印world

```shell
$ cron -- "*/1 * * * * *" bash -c "echo hello" -- "*/2 * * * * *" bash -c "echo world"
```

### 运行在docker中

```shell
$ docker run -it cron -- "*/1 * * * * *" bash -c "echo hello" -- "*/2 * * * * *" bash -c "echo world"
```
- 如需Ctrl+C终止容器，需要使用 `-it`
- 

